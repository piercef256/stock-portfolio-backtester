(() => {
var exports = {};
exports.id = 931;
exports.ids = [931];
exports.modules = {

/***/ 18038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 98704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 97897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 56786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 41844:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/get-segment-param");

/***/ }),

/***/ 96624:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/helpers/interception-routes");

/***/ }),

/***/ 57085:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context");

/***/ }),

/***/ 20199:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hash");

/***/ }),

/***/ 39569:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context");

/***/ }),

/***/ 30893:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ 17887:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll");

/***/ }),

/***/ 98735:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ 68231:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path");

/***/ }),

/***/ 53750:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ 79618:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html");

/***/ }),

/***/ 39491:
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ 82361:
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ 57147:
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ 13685:
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ 95687:
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ 22037:
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ 71017:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 12781:
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ 76224:
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ 57310:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 73837:
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ 59796:
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ 65171:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   originalPathname: () => (/* binding */ originalPathname),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1865);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(26327);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__) if(["default","tree","pages","GlobalError","originalPathname","__next_app__"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

    const tree = {
        children: [
        '',
        {
        children: ['__PAGE__', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 85654)), "/Users/piercefleming/Documents/github-piercef256/CS-361/stock-portfolio-backtester/app/page.tsx"],
          metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 83174))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
        }]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 67263)), "/Users/piercefleming/Documents/github-piercef256/CS-361/stock-portfolio-backtester/app/layout.tsx"],
          metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 83174))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
        }
      ]
      }.children;
    const pages = ["/Users/piercefleming/Documents/github-piercef256/CS-361/stock-portfolio-backtester/app/page.tsx"];
    
    const originalPathname = "/page"
    const __next_app__ = {
      require: __webpack_require__,
      // all modules are in the entry chunk, so we never actually need to load chunks in webpack
      loadChunk: () => Promise.resolve()
    }

    
  

/***/ }),

/***/ 67665:
/***/ (() => {



/***/ }),

/***/ 77329:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 43118))

/***/ }),

/***/ 98486:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 88709, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 62698, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 7833, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 29150, 23));
Promise.resolve(/* import() eager */).then(__webpack_require__.t.bind(__webpack_require__, 47734, 23))

/***/ }),

/***/ 43118:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Home)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(56786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(18038);
;// CONCATENATED MODULE: ./components/Tutorial.tsx


function Tutorial({ onDone }) {
    const [step, setStep] = (0,react_.useState)(1);
    const handleNextStep = ()=>{
        setStep((prevStep)=>prevStep + 1);
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        children: [
            step === 1 && /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                        children: 'Step 1: Add a stock by selecting one from the "Select a stock" dropdown, or by entering your own stock ticker into the textbox, then clicking the "Add stock" button.'
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        onClick: handleNextStep,
                        children: "Next"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        onClick: onDone,
                        children: "Done"
                    })
                ]
            }),
            step === 2 && /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                        children: 'Step 2: When you have added the stocks that you want to analyze, click the "Show Graph" button, and dive into the stock data!'
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("button", {
                        onClick: onDone,
                        children: "Done"
                    })
                ]
            })
        ]
    });
}
/* harmony default export */ const components_Tutorial = (Tutorial);

;// CONCATENATED MODULE: ./components/UserInput.tsx



function UserInput({ onAddStock, onRemoveStock, onToggleAdvancedView, onFetchStockData, stockList }) {
    const [stock, setStock] = (0,react_.useState)("");
    const [showTooltip, setShowTooltip] = (0,react_.useState)(false);
    // Predefined list of stocks
    const stockOptions = [
        "MSFT",
        "AAPL",
        "NVDA"
    ];
    const [showTutorial, setShowTutorial] = (0,react_.useState)(false);
    const handleToggleTutorial = ()=>{
        setShowTutorial((prevShowTutorial)=>!prevShowTutorial);
    };
    const handleAddStock = ()=>{
        onAddStock(stock);
        console.log(stock);
        setStock("");
    };
    const handleRemoveButtonClick = (stock)=>{
        // this function is for handling a user clicking on a stock to remove it from the list
        onRemoveStock(stock);
    };
    const handleFetchButtonClick = ()=>{
        onFetchStockData();
    };
    const handleToggleAdvancedViewClick = ()=>{
        onToggleAdvancedView();
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("button", {
                onClick: handleToggleTutorial,
                children: "Help"
            }),
            showTutorial && /*#__PURE__*/ jsx_runtime_.jsx(components_Tutorial, {
                onDone: handleToggleTutorial
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("input", {
                type: "text",
                value: stock,
                onChange: (e)=>setStock(e.target.value),
                placeholder: "Enter stock symbol"
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("button", {
                onClick: handleAddStock,
                children: "Add stock"
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("button", {
                onClick: handleFetchButtonClick,
                children: "Show Graph"
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("label", {
                style: {
                    position: "relative"
                },
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("input", {
                        type: "checkbox",
                        onChange: handleToggleAdvancedViewClick
                    }),
                    "Advanced view",
                    /*#__PURE__*/ jsx_runtime_.jsx("span", {
                        style: {
                            marginLeft: "5px"
                        },
                        onMouseEnter: ()=>setShowTooltip(true),
                        onMouseLeave: ()=>setShowTooltip(false),
                        children: "?"
                    }),
                    showTooltip && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        style: {
                            position: "absolute",
                            top: "100%",
                            left: "0",
                            backgroundColor: "#fff",
                            border: "1px solid #ccc",
                            padding: "5px",
                            zIndex: 1
                        },
                        children: "The advanced view will take up more space and may be confusing"
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("select", {
                value: stock,
                onChange: (e)=>setStock(e.target.value),
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("option", {
                        value: "",
                        children: "Select a stock"
                    }),
                    stockOptions.map((option)=>/*#__PURE__*/ jsx_runtime_.jsx("option", {
                            value: option,
                            children: option
                        }, option))
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("p", {
                children: "Click on a stock to remove it from the list"
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("ul", {
                children: stockList.map((stock)=>/*#__PURE__*/ jsx_runtime_.jsx("li", {
                        onClick: ()=>handleRemoveButtonClick(stock),
                        children: stock
                    }, stock))
            })
        ]
    });
}
/* harmony default export */ const components_UserInput = (UserInput);

// EXTERNAL MODULE: ./node_modules/recharts/lib/index.js
var lib = __webpack_require__(83358);
// EXTERNAL MODULE: ./node_modules/d3-scale-chromatic/src/categorical/category10.js + 1 modules
var category10 = __webpack_require__(2527);
;// CONCATENATED MODULE: ./components/StockChart.tsx




function StockChart({ data }) {
    const symbols = Object.keys(data);
    const chartData = Object.entries(data[symbols[0]]).map(([date, price])=>{
        const obj = {
            date
        };
        symbols.forEach((symbol)=>{
            obj[symbol] = data[symbol][date];
        });
        return obj;
    });
    const colors = category10/* default */.Z;
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)(jsx_runtime_.Fragment, {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("p", {
                children: "Hover your mouse over the graph to see the price on a particular date."
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(lib/* LineChart */.wW, {
                width: 600,
                height: 300,
                data: chartData,
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(lib/* XAxis */.Kc, {
                        dataKey: "date"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(lib/* YAxis */.B2, {}),
                    /*#__PURE__*/ jsx_runtime_.jsx(lib/* CartesianGrid */.q3, {
                        strokeDasharray: "3 3"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(lib/* Tooltip */.u, {}),
                    /*#__PURE__*/ jsx_runtime_.jsx(lib/* Legend */.De, {}),
                    symbols.map((symbol, index)=>/*#__PURE__*/ jsx_runtime_.jsx(lib/* Line */.x1, {
                            type: "monotone",
                            dataKey: symbol,
                            stroke: colors[index % colors.length],
                            dot: false
                        }, symbol))
                ]
            })
        ]
    });
}
/* harmony default export */ const components_StockChart = (StockChart);

;// CONCATENATED MODULE: ./components/AdvancedView.tsx


function AdvancedView({ data, extraStockData, stockRatios }) {
    // Calculate Sharpe ratio for each stock
    // Data format for each stock
    //   [
    //     {
    //         "symbol": "AMZN",
    //         "data": {
    //             "calmar_ratio": -0.004480417722775199,
    //             "sharpe_ratio": -0.07625842173767448,
    //             "treynor_ratio": -1.8519299885022409
    //         }
    //     },
    //     {
    //         "symbol": "SPY",
    //         "data": {
    //             "calmar_ratio": -0.002892384115201195,
    //             "sharpe_ratio": -0.051446305929940886,
    //             "treynor_ratio": -0.004302048558889198
    //         }
    //     }
    // ]
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("table", {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("thead", {
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("tr", {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("th", {
                            children: "Symbol"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("th", {
                            children: "Calmar Ratio"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("th", {
                            children: "Sharpe Ratio"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("th", {
                            children: "Treynor Ratio"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("tbody", {
                children: stockRatios.map((item)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("tr", {
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("td", {
                                children: item.symbol
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("td", {
                                children: item.data.calmar_ratio.toFixed(6)
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("td", {
                                children: item.data.sharpe_ratio.toFixed(6)
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("td", {
                                children: item.data.treynor_ratio.toFixed(6)
                            })
                        ]
                    }, item.symbol))
            })
        ]
    });
}
/* harmony default export */ const components_AdvancedView = (AdvancedView);

// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 46 modules
var axios = __webpack_require__(40248);
;// CONCATENATED MODULE: ./components/Data.tsx


const Data = ({ data })=>{
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        children: Object.entries(data).map(([date, value])=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                children: [
                    date,
                    ": ",
                    value
                ]
            }, date))
    });
};
/* harmony default export */ const components_Data = (Data);

;// CONCATENATED MODULE: ./components/Devmode.tsx




function StockData({ symbol, start, end }) {
    const [data, setData] = (0,react_.useState)(null);
    (0,react_.useEffect)(()=>{
        const fetchData = async ()=>{
            const response = await axios/* default */.Z.get(`http://localhost:8000/stock?symbol=${symbol}&start=${start}&end=${end}`);
            setData(response.data);
            console.log("DEVMODE:", response.data["close_prices"]);
        };
        fetchData();
    }, [
        symbol,
        start,
        end
    ]);
    if (!data) return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        children: "Loading..."
    });
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        children: /*#__PURE__*/ jsx_runtime_.jsx(components_Data, {
            data: data["close_prices"]
        })
    });
}

;// CONCATENATED MODULE: ./app/page.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 





function Home() {
    const [stockList, setStockList] = (0,react_.useState)([
        "AMZN"
    ]);
    const [undoList, setUndoList] = (0,react_.useState)([]);
    const [redoList, setRedoList] = (0,react_.useState)([]);
    const [isLoading, setIsLoading] = (0,react_.useState)(true);
    const [startDate, setStartDate] = (0,react_.useState)("2022-01-01");
    const [endDate, setEndDate] = (0,react_.useState)("2022-12-31");
    const [devMode, setDevMode] = (0,react_.useState)(false);
    const [extraStockData, setExtraStockData] = (0,react_.useState)(null);
    const [userConfig, setUserConfig] = (0,react_.useState)({
        advancedView: false
    });
    const [stockData, setStockData] = (0,react_.useState)(null);
    const [stockRatios, setStockRatios] = (0,react_.useState)([]);
    const handleAddStock = (stock)=>{
        if (stock === "") {
            handleEmptyString();
            return;
        }
        if (stock == "devmode on") {
            setDevMode(true);
            return;
        }
        if (stock == "devmode off") {
            setDevMode(false);
            return;
        }
        stock = stock.toUpperCase();
        updateStockList(stock);
    };
    const handleEmptyString = ()=>{
        alert("Error: stock cannot be an empty string");
    };
    const updateStockList = (stock)=>{
        setStockList((prevStockList)=>{
            if (!prevStockList.includes(stock)) {
                updateUndoList(prevStockList);
                setRedoList([]);
                return [
                    ...prevStockList,
                    stock
                ];
            } else {
                return prevStockList;
            }
        });
    };
    const updateUndoList = (prevStockList)=>{
        setUndoList((prevUndoList)=>[
                ...prevUndoList,
                prevStockList
            ]);
    };
    const handleRemoveStock = (stock)=>{
        setStockList((prevStockList)=>{
            if (prevStockList.includes(stock)) {
                // Add current state to undo list
                setUndoList((prevUndoList)=>[
                        ...prevUndoList,
                        prevStockList
                    ]);
                // Clear redo list
                setRedoList([]);
                return prevStockList.filter((item)=>item !== stock);
            } else {
                return prevStockList;
            }
        });
    };
    const handleRemoveAllStocks = ()=>{
        // Add current state to undo list
        setUndoList((prevUndoList)=>[
                ...prevUndoList,
                stockList
            ]);
        // Clear redo list
        setRedoList([]);
        // Clear stock list
        setStockList([]);
    };
    const handleUndo = ()=>{
        if (undoList.length > 0) {
            // Add current state to redo list
            setRedoList((prevRedoList)=>[
                    ...prevRedoList,
                    stockList
                ]);
            // Set stock list to last state in undo list
            setStockList(undoList[undoList.length - 1]);
            // Remove last state from undo list
            setUndoList((prevUndoList)=>prevUndoList.slice(0, -1));
        }
    };
    const handleRedo = ()=>{
        if (redoList.length > 0) {
            // Add current state to undo list
            setUndoList((prevUndoList)=>[
                    ...prevUndoList,
                    stockList
                ]);
            // Set stock list to last state in redo list
            setStockList(redoList[redoList.length - 1]);
            // Remove last state from redo list
            setRedoList((prevRedoList)=>prevRedoList.slice(0, -1));
        }
    };
    const handleToggleAdvancedView = ()=>{
        setUserConfig((prevUserConfig)=>({
                ...prevUserConfig,
                advancedView: !prevUserConfig.advancedView
            }));
    };
    async function fetchRatios(extraStockData, returnsData) {
        const risk_free_rate = 0;
        const res = await fetchRatiosResponses(extraStockData, risk_free_rate);
        return res;
    }
    // async function fetchRatiosResponses(extraStockData: ExtraStockData, risk_free_rate: number) {
    //   return await Promise.all(Object.entries(extraStockData).map(async ([s, c]) => {
    //     const r = await fetch("http://localhost:5001/get_ratios", {
    //       method: "POST", headers: { "Content-Type": "application/json" },
    //       body: JSON.stringify({ returns: Object.values(c.daily_returns), risk_free_rate, beta: c.beta, max_drawdown: c.max_drawdown } as RatiosRequestBody)
    //     }); return { symbol: s, data: (await r.json()) as RatiosResponseBody };
    //   }));
    // }
    async function fetchRatiosResponses(extraStockData, risk_free_rate) {
        return await Promise.all(Object.entries(extraStockData).map(async ([s, c])=>{
            const r = await fetch("http://localhost:5001/get_ratios", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    returns: Object.values(c.daily_returns),
                    risk_free_rate,
                    beta: c.beta,
                    max_drawdown: c.max_drawdown
                })
            });
            return {
                symbol: s,
                data: await r.json()
            };
        }));
    }
    async function handleFetchStockData() {
        setIsLoading(true); // this is for conditional rendering of the stock chart
        const fetchedStockData = await fetchStockData(stockList, startDate, endDate);
        setStockData(fetchedStockData.stockData);
        setExtraStockData(fetchedStockData.extraStockData);
        const ratios = await fetchRatios(fetchedStockData.extraStockData, fetchedStockData.stockData);
        setStockRatios(ratios);
        setIsLoading(false);
    }
    async function fetchStockData(stockList, startDate, endDate) {
        const responses = await fetchResponses(stockList, startDate, endDate);
        const data = await getData(responses);
        const { stockDataResult, extraStockDataResult } = processData(stockList, data);
        return {
            stockData: stockDataResult,
            extraStockData: extraStockDataResult
        };
    }
    async function fetchResponses(stockList, startDate, endDate) {
        return await Promise.all(stockList.map((stock)=>fetch(`http://localhost:8000/stock?symbol=${stock}&start=${startDate}&end=${endDate}`)));
    }
    async function getData(responses) {
        return await Promise.all(responses.map((response)=>response.json()));
    }
    function processData(stockList, data) {
        const stockDataResult = {};
        const extraStockDataResult = {};
        stockList.forEach((symbol, index)=>{
            stockDataResult[symbol] = data[index].close_prices;
            extraStockDataResult[symbol] = {
                max_drawdown: data[index].max_drawdown,
                beta: data[index].beta,
                daily_returns: data[index].daily_returns
            };
        });
        return {
            stockDataResult,
            extraStockDataResult
        };
    }
    return /*#__PURE__*/ jsx_runtime_.jsx("main", {
        className: "flex min-h-screen flex-col items-center justify-between p-24",
        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                    children: "Stock Portfolio Backtester"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                    htmlFor: "start-date",
                    children: "Start Date:"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("input", {
                    id: "start-date",
                    type: "date",
                    value: startDate,
                    onChange: (e)=>setStartDate(e.target.value)
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                    htmlFor: "end-date",
                    children: "End Date:"
                }),
                /*#__PURE__*/ jsx_runtime_.jsx("input", {
                    id: "end-date",
                    type: "date",
                    value: endDate,
                    onChange: (e)=>setEndDate(e.target.value)
                }),
                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx(components_UserInput, {
                            onAddStock: handleAddStock,
                            onRemoveStock: handleRemoveStock,
                            onToggleAdvancedView: handleToggleAdvancedView,
                            onFetchStockData: handleFetchStockData,
                            stockList: stockList
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("button", {
                            onClick: handleUndo,
                            children: "Undo"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("button", {
                            onClick: handleRedo,
                            children: "Redo"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx("button", {
                            onClick: ()=>{
                                if (window.confirm("Are you sure you want to remove all stocks?")) {
                                    handleRemoveAllStocks();
                                }
                            },
                            children: "Remove All Stocks"
                        })
                    ]
                }),
                !isLoading && stockData ? /*#__PURE__*/ jsx_runtime_.jsx(components_StockChart, {
                    data: stockData
                }) : /*#__PURE__*/ jsx_runtime_.jsx("p", {
                    children: "Stock chart:"
                }),
                userConfig.advancedView ? /*#__PURE__*/ jsx_runtime_.jsx("p", {
                    children: "Advanced View Statistics:"
                }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}),
                userConfig.advancedView && stockData && extraStockData && stockRatios ? /*#__PURE__*/ jsx_runtime_.jsx(components_AdvancedView, {
                    data: stockData,
                    extraStockData: extraStockData,
                    stockRatios: stockRatios
                }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}),
                devMode ? /*#__PURE__*/ jsx_runtime_.jsx("h1", {
                    children: "DEVMODE ON"
                }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {}),
                devMode && stockList.length > 0 ? /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {
                    children: /*#__PURE__*/ jsx_runtime_.jsx(StockData, {
                        symbol: stockList[0],
                        start: startDate,
                        end: endDate
                    })
                }) : /*#__PURE__*/ jsx_runtime_.jsx(jsx_runtime_.Fragment, {})
            ]
        })
    });
}


/***/ }),

/***/ 67263:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ RootLayout),
/* harmony export */   metadata: () => (/* binding */ metadata)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(56786);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(87298);
/* harmony import */ var next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(92817);
/* harmony import */ var _globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_globals_css__WEBPACK_IMPORTED_MODULE_1__);



const metadata = {
    title: "Create Next App",
    description: "Generated by create next app"
};
function RootLayout({ children }) {
    return /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("html", {
        lang: "en",
        children: /*#__PURE__*/ react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx("body", {
            className: (next_font_google_target_css_path_app_layout_tsx_import_Inter_arguments_subsets_latin_variableName_inter___WEBPACK_IMPORTED_MODULE_2___default().className),
            children: children
        })
    });
}


/***/ }),

/***/ 85654:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21913);

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/piercefleming/Documents/github-piercef256/CS-361/stock-portfolio-backtester/app/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ }),

/***/ 83174:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(23785);
/* harmony import */ var next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__);
  

  /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((props) => {
    const imageData = {"type":"image/x-icon","sizes":"any"}
    const imageUrl = (0,next_dist_lib_metadata_get_metadata_route__WEBPACK_IMPORTED_MODULE_0__.fillMetadataSegment)(".", props.params, "favicon.ico")

    return [{
      ...imageData,
      url: imageUrl + "",
    }]
  });

/***/ }),

/***/ 92817:
/***/ (() => {



/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [697,724], () => (__webpack_exec__(65171)));
module.exports = __webpack_exports__;

})();